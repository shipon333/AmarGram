<template>
    <div>
        <section class="content">
            <div class="row">
                <div class="col-md-9">
                    <div class="row">
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <a href="http://localhost/EDU/studentfee">
                                    <span class="info-box-icon bg-green"><i class="fa fa-money"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">Total Income</span>
                                        <span class="info-box-number">TK 50000</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <a href="http://localhost/EDU/admin/expense">
                                    <span class="info-box-icon bg-red"><i class="fa fa-credit-card"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">Expense</span>
                                        <span class="info-box-number">TK 10000</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <a href="http://localhost/EDU/admin/admin/studentSummary">
                                    <span class="info-box-icon bg-aqua"><i class="fa fa-user"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">Residents</span>
                                        <span class="info-box-number">150</span>
                                    </div>
                                    <div class="info-box-content">
                                        <span title="Boys" class="text-success"><i class="fa fa-male"></i> 100</span>
                                        <span title="Girls" class="text-success"><i class="fa fa-female"></i> 50</span>
                                    </div>
                                </a>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <a href="http://localhost/EDU/admin/stuattendence/attendanceSummary">
                                    <span class="info-box-icon bg-blue"><i class="fa fa-user"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">Members</span>
                                        <span class="info-box-number">40</span>
                                    </div>
                                    <div class="info-box-content">
                                        <span title="Boys" class="text-success"><i class="fa fa-male"></i> 15</span>
                                        <span title="Girls" class="text-success"><i class="fa fa-female"></i> 25</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <a href="http://localhost/EDU/admin/stuattendence/attendanceSummary">
                                    <span class="info-box-icon bg-blue"><i class="fa fa-user"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">Under Aged</span>
                                        <span class="info-box-number">50</span>
                                    </div>
                                    <div class="info-box-content">
                                        <span title="Boys" class="text-success"><i class="fa fa-male"></i> 20</span>
                                        <span title="Girls" class="text-success"><i class="fa fa-female"></i> 30</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <span class="info-box-icon bg-blue"><i class="fa fa-user-secret"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Total Project</span>
                                    <span class="info-box-number">6</span>
                                </div>
                                <div class="info-box-content">
                                    <span>Completed:5</span>
                                    <span>Running:1</span>
                                </div>
                            </div>
                        </div>


                        <!--=============LAST EXAM REPORT==============-->
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <span class="info-box-icon bg-purple"><i class="fa fa-list-alt"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Total Disbaled</span>
                                    <span class="info-box-number">6</span>
                                </div>
                                <div class="info-box-content">
                                    <span title="Boys" class="text-success"><i class="fa fa-male"></i> 3</span>
                                    <span title="Girls" class="text-success"><i class="fa fa-female"></i> 3</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <span class="info-box-icon bg-purple"><i class="fa fa-list-alt"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Total Unemployed</span>
                                    <span class="info-box-number">20</span>
                                </div>
                                <div class="info-box-content">
                                    <span title="Boys" class="text-success"><i class="fa fa-male"></i> 10</span>
                                    <span title="Girls" class="text-success"><i class="fa fa-female"></i>10 </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <span class="info-box-icon bg-purple"><i class="fa fa-list-alt"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Total Immigrant</span>
                                    <span class="info-box-number">15</span>
                                </div>
                                <div class="info-box-content">
                                    <span title="Boys" class="text-success"><i class="fa fa-male"></i> 10</span>
                                    <span title="Girls" class="text-success"><i class="fa fa-female"></i> 5</span>
                                </div>
                            </div>
                        </div>

                        <!--=============THIS SESSION ACCOUNT REPORT==============-->
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <a href="javascript:void(0)">
                                    <span class="info-box-icon bg-green"><i class="fa fa-money"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">Income</span>
                                        <span class="info-box-number">TK 104490</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <a href="javascript:void(0)">
                                    <span class="info-box-icon bg-red"><i class="fa fa-credit-card"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">Expense</span>
                                        <span class="info-box-number">TK 29800</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="info-box">
                                <a href="javascript:void(0)">
                                    <span class="info-box-icon bg-aqua"><i class="fa fa-money"></i></span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">Balance</span>
                                        <span class="info-box-number">TK 74690</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12">
                            <div class="box box-primary">
                                <div class="box-header with-border">
                                    <h3 class="box-title">Income & Expenses For Current Month</h3>
                                    <div class="box-tools pull-right">
                                        <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                        <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                                    </div>
                                </div>
                                <div class="box-body">
                                    <div class="chart">
                                        <canvas id="barChart" style="height:250px"></canvas>
                                    </div>
                                </div>
                            </div>

                            <div class="box box-info">
                                <div class="box-header with-border">
                                    <h3 class="box-title">Income & Expenses For Current Year</h3>
                                    <div class="box-tools pull-right">
                                        <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                        <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                                    </div>
                                </div>
                                <div class="box-body">
                                    <div class="chart">
                                        <canvas id="lineChart" style="height:250px"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="info-box">
                        <router-link to="/division">
                            <span class="info-box-icon bg-yellow"><i class="fa fa-list"></i></span>
                            <div class="info-box-content">
                                <span class="info-box-text">Division</span>
                                <span class="info-box-number">{{data.division}}</span>
                            </div>
                        </router-link>
                    </div>
                    <div class="info-box">
                        <router-link to="/district">
                            <span class="info-box-icon bg-yellow"><i class="fa fa-list"></i></span>
                            <div class="info-box-content">
                                <span class="info-box-text">District</span>
                                <span class="info-box-number">{{data.district}}</span>
                            </div>
                        </router-link>
                    </div>


                    <div class="info-box">
                        <router-link to="/upozilla">
                            <span class="info-box-icon bg-yellow"><i class="fa fa-list"></i></span>
                            <div class="info-box-content">
                                <span class="info-box-text">Upozilla</span>
                                <span class="info-box-number">{{data.upozilla}}</span>
                            </div>
                        </router-link>
                    </div>


                    <div class="info-box">
                        <router-link to="/union">
                            <span class="info-box-icon bg-yellow"><i class="fa fa-list"></i></span>
                            <div class="info-box-content">
                                <span class="info-box-text">Union</span>
                                <span class="info-box-number">{{data.union}}</span>
                            </div>
                        </router-link>
                    </div>


                    <div class="info-box">
                        <a href="#">
                            <span class="info-box-icon bg-yellow"><i class="fa fa-user-secret"></i></span>
                            <div class="info-box-content">
                                <span class="info-box-text">Village</span>
                                <span class="info-box-number">{{data.village}}</span>
                            </div>
                        </a>
                    </div>


                    <div class="info-box">
                        <a href="#">
                            <span class="info-box-icon bg-yellow"><i class="fa fa-user-secret"></i></span>
                            <div class="info-box-content">
                                <span class="info-box-text">Organization</span>
                                <span class="info-box-number">{{data.organization}}</span>
                            </div>
                        </a>
                    </div>



                </div>
            </div>
        </section>
    </div>
</template>

<script>
    export default {
        name: "AdminDashboard",
        data(){
            return{
                data:[],
                errors:{}
            }
        },
        mounted(){
            this.adminDashboard();
        },
        created(){
            if (!User.loggedIn()){
                this.$router.push({name:'/'})
            }
            if ( User.loggedIn() && User.userType() != "system") {
                this.$router.push({name:'dashboard'})
            }
        },
        methods:{
            adminDashboard(){
                axios.get('/api/admin/dashboard')
                    .then(({data}) => (this.data = data))
                    .catch(error => {
                        _this.errors = error.response.data.errors
                    })
            }
        }
    }
</script>

<style scoped>
    .content{
        margin-left: 200px;
    }

</style>